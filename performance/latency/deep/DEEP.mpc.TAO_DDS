//  -*- MPC -*- now wouldn't this be cool...
// $Id: DEEP.mpc 174 2007-03-30 19:29:23Z parsons $

project (DEEP_Framework) : dcpsexe_with_reliable_multicast, portableserver, xerces {
//  dynamicflags += DEEP_FRAMEWORK_BUILD_DLL
  exename = deepexe
  idlflags += -o readerWriter/generated
  dcps_ts_flags += -M deepTypes
  includes += actors \
			        readerWriter \
			        readerWriter/generated \
			        scenario \
			        settingsParser \
			        vendorAbstraction/TAO_DDS
 
  Modify_Custom(TypeSupport) {
    postcommand = <%mv%> simpleTypeTypeSupport.idl readerWriter/generated <%and%> \
                  <%mv%> simpleTypeTypeSupportImpl.h readerWriter/generated <%and%> \
                  <%mv%> simpleTypeTypeSupportImpl.cpp readerWriter/generated <%and%> \
                  <%mv%> nestedTypeTypeSupport.idl readerWriter/generated <%and%> \
                  <%mv%> nestedTypeTypeSupportImpl.h readerWriter/generated <%and%> \
                  <%mv%> nestedTypeTypeSupportImpl.cpp readerWriter/generated <%and%> \
                  <%mv%> arrayTypeTypeSupport.idl readerWriter/generated <%and%> \
                  <%mv%> arrayTypeTypeSupportImpl.h readerWriter/generated <%and%> \
                  <%mv%> arrayTypeTypeSupportImpl.cpp readerWriter/generated <%and%> \
                  <%mv%> stringTypeTypeSupport.idl readerWriter/generated <%and%> \
                  <%mv%> stringTypeTypeSupportImpl.h readerWriter/generated <%and%> \
                  <%mv%> stringTypeTypeSupportImpl.cpp readerWriter/generated
  }
  
  TypeSupport_Files {
	  deepTypes.idl >> readerWriter/generated/simpleTypeTypeSupport.idl \
	                   readerWriter/generated/simpleTypeTypeSupportImpl.h \
	                   readerWriter/generated/simpleTypeTypeSupportImpl.cpp \
	                   readerWriter/generated/nestedTypeTypeSupport.idl \
	                   readerWriter/generated/nestedTypeTypeSupportImpl.h \
	                   readerWriter/generated/nestedTypeTypeSupportImpl.cpp \
	                   readerWriter/generated/arrayTypeTypeSupport.idl \
	                   readerWriter/generated/arrayTypeTypeSupportImpl.h \
	                   readerWriter/generated/arrayTypeTypeSupportImpl.cpp \
	                   readerWriter/generated/stringTypeTypeSupport.idl \
	                   readerWriter/generated/stringTypeTypeSupportImpl.h \
	                   readerWriter/generated/stringTypeTypeSupportImpl.cpp
  }
  
  IDL_Files {
    deepTypes.idl << readerWriter/generated/simpleTypeTypeSupport.idl \
                     readerWriter/generated/nestedTypeTypeSupport.idl \
                     readerWriter/generated/arrayTypeTypeSupport.idl \
                     readerWriter/generated/stringTypeTypeSupport.idl \
                  >> readerWriter/generated/deepTypesC.h \
                     readerWriter/generated/deepTypesC.inl \
                     readerWriter/generated/deepTypesC.cpp \
                     readerWriter/generated/deepTypesS.h \
                     readerWriter/generated/deepTypesS.inl \
                     readerWriter/generated/deepTypesS.cpp
    readerWriter/generated/simpleTypeTypeSupport.idl << \
      readerWriter/generated/deepTypesS.cpp
    readerWriter/generated/nestedTypeTypeSupport.idl << \
      readerWriter/generated/deepTypesS.cpp
    readerWriter/generated/arrayTypeTypeSupport.idl << \
      readerWriter/generated/deepTypesS.cpp
    readerWriter/generated/stringTypeTypeSupport.idl << \
      readerWriter/generated/deepTypesS.cpp
  }
  
  Source_Files {
    actors/impl/*.cpp
    main/deepParticipant.cpp
    readerWriter/TAO_DDS_impl/*.cpp
    readerWriter/generated/arrayTypeTypeSupportC.cpp
    readerWriter/generated/arrayTypeTypeSupportImpl.cpp
    readerWriter/generated/arrayTypeTypeSupportS.cpp
    readerWriter/generated/deepTypesC.cpp
    readerWriter/generated/deepTypesS.cpp
    readerWriter/generated/nestedTypeTypeSupportC.cpp
    readerWriter/generated/nestedTypeTypeSupportImpl.cpp
    readerWriter/generated/nestedTypeTypeSupportS.cpp
    readerWriter/generated/simpleTypeTypeSupportC.cpp
    readerWriter/generated/simpleTypeTypeSupportImpl.cpp
    readerWriter/generated/simpleTypeTypeSupportS.cpp
    readerWriter/generated/stringTypeTypeSupportC.cpp
    readerWriter/generated/stringTypeTypeSupportImpl.cpp
    readerWriter/generated/stringTypeTypeSupportS.cpp
    scenario/impl/*.cpp
    settingsparser/impl/*.cpp
  }
  
  Header_Files {
    DEEP_framework_export.h
    actors/*.h
    actors/impl/*.h
    readerWriter/*.h
    readerWriter/TAO_DDS_impl/*.h
    readerWriter/generated/arrayTypeTypeSupportC.h
    readerWriter/generated/arrayTypeTypeSupportImpl.h
    readerWriter/generated/arrayTypeTypeSupportS.h
    readerWriter/generated/deepTypesC.h
    readerWriter/generated/deepTypesS.h
    readerWriter/generated/nestedTypeTypeSupportC.h
    readerWriter/generated/nestedTypeTypeSupportImpl.h
    readerWriter/generated/nestedTypeTypeSupportS.h
    readerWriter/generated/simpleTypeTypeSupportC.h
    readerWriter/generated/simpleTypeTypeSupportImpl.h
    readerWriter/generated/simpleTypeTypeSupportS.h
    readerWriter/generated/stringTypeTypeSupportC.h
    readerWriter/generated/stringTypeTypeSupportImpl.h
    readerWriter/generated/stringTypeTypeSupportS.h
    scenario/*.h
    scenario/impl/*.h
    settingsParser/SettingsParserNode.h
    settingsparser/impl/*.h
    vendorAbstraction/TAO_DDS/*.h
  }
  
  Inline_Files {
    readerWriter/generated/arrayTypeTypeSupportC.inl
    readerWriter/generated/arrayTypeTypeSupportS.inl
    readerWriter/generated/deepTypesC.inl
    readerWriter/generated/deepTypesS.inl
    readerWriter/generated/nestedTypeTypeSupportC.inl
    readerWriter/generated/nestedTypeTypeSupportS.inl
    readerWriter/generated/simpleTypeTypeSupportC.inl
    readerWriter/generated/simpleTypeTypeSupportS.inl
    readerWriter/generated/stringTypeTypeSupportC.inl
    readerWriter/generated/stringTypeTypeSupportS.inl
  }

  specific(vc8) {
    DisableSpecificWarnings += 4290 4250
  }
}
